pal_linux_common_sources = [
    'bogomips.c',
    'debug_map.c',
    'file_utils.c',
    'gramine_unix_socket_addr.c',
    'main_exec_path.c',
    'timespec_utils.c',
    'topo_info.c',
]

pal_linux_common_sources_arch = [
    'syscall.S',
]
if host_machine.cpu_family() == 'ppc64le' or host_machine.cpu_family() == 'ppc64'
    pal_linux_common_sources_arch += 'clone.S'
    pal_linux_common_sources_arch += 'vfork.c'
endif
foreach src : pal_linux_common_sources_arch
    pal_linux_common_sources += join_paths('arch', host_machine.cpu_family(), src)
endforeach

pal_linux_common_sources = files(pal_linux_common_sources)
